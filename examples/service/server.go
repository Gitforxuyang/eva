package service

import (
	"context"
	"github.com/Gitforxuyang/eva/examples/proto/hello"
	"github.com/Gitforxuyang/eva/plugin/mongo"
	"github.com/Gitforxuyang/eva/plugin/redis"
	error2 "github.com/Gitforxuyang/eva/util/error"
)

type HelloServiceServer struct {
	redis redis.EvaRedis
	mongo mongo.EvaMongo
}

func NewHelloServiceServer(rdb redis.EvaRedis, mongo mongo.EvaMongo) *HelloServiceServer {
	return &HelloServiceServer{redis: rdb, mongo: mongo}
}

type Animal struct {
	String string `bson:"str"`
}

func (m *HelloServiceServer) Hello(ctx context.Context, req *hello.String) (*hello.String, error) {
	message := `1231231212312312123123121231231212312312123123121231231212312312123123121231
2312123123121231231212312312123123121231231212312312123123121231231212312312123123121231231
2123123121231231212312312123123121231231212312312123123121231231212312312123123121231231212
3123121231231212312312123123121231231212312312123123121231231212312312123123121231231212312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
1231231212312312123123121231231212312312123123121231231212312312123123121231231212312312123
12312123123121231231212312312123123121231231212312312123123121231231212312312123123121231231
2123123121231231212312312123123121231231212312312123123121231231212312312123123121231231212
3123121231231212312312123123121231231212312312123123121231231212312312123123121231231212312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312111111111
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
3121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312
12312312123123121231231212312312123123121231231212312312123123121231231212312312123123121231
23121231231212312312123123121231231212312312123123121231231212312312123123121231231212312312`
	e := error2.EvaError{AppId: "123", Code: 310001, Message: message, Detail: "123123123", Status: 2}
	return nil, e
	//return &hello.String{}, nil
}
